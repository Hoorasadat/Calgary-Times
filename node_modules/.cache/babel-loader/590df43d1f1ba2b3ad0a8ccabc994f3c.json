{"ast":null,"code":"import PropTypes from 'prop-types';\nexport const DOTS = \"...\";\n\nfunction usePagination(currentPage, pageSize, totalCount) {\n  /*\n    Rewrite the logic here to map out the pagination to be displayed.\n   */\n  console.log('===', currentPage, pageSize, totalCount);\n\n  if (!currentPage) {\n    console.log();\n    currentPage == 1;\n  }\n\n  ;\n  const SIBILING_COUNT = 1;\n  const lastPage = Math.ceil(totalCount / pageSize);\n  const leftSiblingIndex = Math.max(currentPage - SIBILING_COUNT, 1);\n  const rightSiblingIndex = Math.min(currentPage + SIBILING_COUNT, lastPage);\n  const shouldShowLeftDots = leftSiblingIndex > 1 && lastPage > 3;\n  const shouldShowRightDots = rightSiblingIndex < lastPage && lastPage > 3;\n  const firstPageIndex = 1;\n  const lastPageIndex = lastPage;\n\n  if (!shouldShowLeftDots && shouldShowRightDots) {\n    const leftItemCount = 1 + 2 * SIBILING_COUNT;\n    const leftRange = [...Array(leftItemCount).keys()].map(i => i + leftSiblingIndex);\n    return [...leftRange, DOTS, lastPage];\n  }\n\n  if (shouldShowLeftDots && !shouldShowRightDots) {\n    let rightItemCount = 1 + 2 * SIBILING_COUNT;\n    let rightRange = [...Array(rightItemCount).keys()].map(i => i + lastPage - rightItemCount + 1);\n    return [firstPageIndex, DOTS, ...rightRange];\n  }\n\n  if (shouldShowLeftDots && shouldShowRightDots) {\n    let middleRange = [...Array(3).keys()].map(i => i + leftSiblingIndex);\n    return [firstPageIndex, DOTS, ...middleRange, DOTS, lastPageIndex];\n  }\n\n  if (!shouldShowLeftDots && !shouldShowRightDots) {\n    if (lastPage === 1) {\n      return [1];\n    }\n\n    if (lastPage === 2) {\n      return [1, 2];\n    }\n\n    if (lastPage === 3) {\n      return [1, 2, 3];\n    }\n  }\n}\n\nusePagination.propTypes = {\n  currentPage: PropTypes.number,\n  pageSize: PropTypes.number,\n  totalCount: PropTypes.number\n};\nusePagination.defaultProps = {\n  currentPage: 1,\n  pageSize: 15,\n  totalCount: 1\n};\nexport default usePagination;","map":{"version":3,"names":["PropTypes","DOTS","usePagination","currentPage","pageSize","totalCount","console","log","SIBILING_COUNT","lastPage","Math","ceil","leftSiblingIndex","max","rightSiblingIndex","min","shouldShowLeftDots","shouldShowRightDots","firstPageIndex","lastPageIndex","leftItemCount","leftRange","Array","keys","map","i","rightItemCount","rightRange","middleRange","propTypes","number","defaultProps"],"sources":["/Users/hoora/Desktop/f9948f/src/hooks/usePagination.js"],"sourcesContent":["import PropTypes from 'prop-types';\nexport const DOTS = \"...\";\n\nfunction usePagination(currentPage, pageSize, totalCount) {\n  /*\n    Rewrite the logic here to map out the pagination to be displayed.\n\n  */\n    console.log('===', currentPage, pageSize, totalCount)\n    if (!currentPage) {\n      console.log()\n      currentPage == 1\n    };\n    const SIBILING_COUNT = 1;\n    const lastPage = Math.ceil(totalCount / pageSize)\n    const leftSiblingIndex = Math.max(currentPage - SIBILING_COUNT, 1);\n    const rightSiblingIndex = Math.min(currentPage + SIBILING_COUNT, lastPage);\n    const shouldShowLeftDots = leftSiblingIndex > 1 && lastPage > 3;\n    const shouldShowRightDots = rightSiblingIndex < lastPage  && lastPage > 3;\n    const firstPageIndex = 1;\n    const lastPageIndex = lastPage;\n\n    if (!shouldShowLeftDots && shouldShowRightDots) {\n      const leftItemCount = 1 + 2 * SIBILING_COUNT;\n      const leftRange = [...Array(leftItemCount).keys()].map(i => i + leftSiblingIndex)\n      return [...leftRange, DOTS, lastPage];\n    }\n\n    if (shouldShowLeftDots && !shouldShowRightDots) {\n      let rightItemCount = 1 + 2 * SIBILING_COUNT;\n      let rightRange = [...Array(rightItemCount).keys()].map(i => i + lastPage - rightItemCount + 1)\n      return [firstPageIndex, DOTS, ...rightRange];\n    }\n\n    if (shouldShowLeftDots && shouldShowRightDots) {\n      let middleRange = [...Array(3).keys()].map(i => i + leftSiblingIndex)\n      return [firstPageIndex, DOTS, ...middleRange, DOTS, lastPageIndex];\n    }\n\n    if (!shouldShowLeftDots && !shouldShowRightDots) {\n      if (lastPage === 1){\n        return [1];\n      }\n      if (lastPage === 2){\n        return [1, 2];\n      }\n      if (lastPage === 3){\n        return [1, 2, 3];\n      }\n    }\n}\n\nusePagination.propTypes = {\n  currentPage: PropTypes.number,\n  pageSize: PropTypes.number,\n  totalCount: PropTypes.number,\n};\n\nusePagination.defaultProps = {\n  currentPage: 1,\n  pageSize: 15,\n  totalCount: 1,\n};\n\nexport default usePagination;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}